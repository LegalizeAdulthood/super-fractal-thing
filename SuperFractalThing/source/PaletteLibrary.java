//	Palettelibrary
//
//    Copyright 2013 Kevin Martin, Steve Bryson
//
//    This file is part of SuperFractalThing.
//
//    SuperFractalThing is free software: you can redistribute it and/or modify
//    it under the terms of the GNU General Public License as published by
//    the Free Software Foundation, either version 3 of the License, or
//    any later version.
//
//    SuperFractalThing is distributed in the hope that it will be useful,
//    but WITHOUT ANY WARRANTY; without even the implied warranty of
//    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
//    GNU General Public License for more details.
//
//    You should have received a copy of the GNU General Public License
//    along with SuperFractalThing.  If not, see <http://www.gnu.org/licenses/>.
//

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.BufferedReader;
import java.io.ByteArrayInputStream;
import java.io.File;
import java.io.InputStreamReader;
import java.io.UnsupportedEncodingException;

import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;

interface PaletteLibraryLoader
{
	void LoadTheFile(File f);
	void LoadTheFile(BufferedReader br);
}

public class PaletteLibrary implements ActionListener
{
	static String[] sLibrary=
		{
		"Watercolor",
		"sft_palette" + "\n" +
				"0.747,1.0,0.683,0.426,0.0,0.0," + "\n" +
				"1.2566370614359172" + "\n" +
				"0.0,0.0,0.0,0.0,0.0,0.0" + "\n" +
				"7" + "\n" +
				"4,1.0,148.0,1.0,2.5132741228718345,0.0,0.899" + "\n" +
				"4,1.0,100.0,0.625,0.0,0.58,0.899" + "\n" +
				"3,1.0,717.0,1.0,3.078760800517997,0.321,0.823" + "\n" +
				"0" + "\n" +
				"0,0.10000000149011612,438.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,1.6838936805725098,0.3959999978542328,0.5" + "\n" +
				"0,0.009999999776482582,370.0,1.0,2.6766369342803955,0.47200000286102295,0.5" + "\n" +
				"0" + "\n" +
				"0,0.009999999776482582,431.0,1.0,1.7278759479522705,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,2.2053980827331543,0.0,0.5" + "\n" +
				"0,0.009999999776482582,812.0,1.0,4.24114990234375,0.4909999966621399,0.5" + "\n" +
				"7" + "\n" +
				"0,1.0,50.0,0.2529999911785126,2.4630086421966553,0.6230000257492065,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"1,0.10000000149011612,853.0,1.0,2.060884714126587,0.0,0.3659999966621399" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n",
		"Silky",
		"sft_palette" + "\n" +
				"1.0,0.608,0.0,0.0,0.0,0.0," + "\n" +
				"0.0" + "\n" +
				"0.0,0.0,0.0,0.0,0.0,0.0" + "\n" +
				"0" + "\n" +
				"0,0.10000000149011612,393.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,0.10000000149011612,363.0,0.951,0.0,0.332,0.5" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,0.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,570.0,1.0,0.0,0.0,0.5" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n",
		"Velvet",
		"sft_palette" + "\n" +
				"1.0,0.916,0.342,0.146,0.17,0.0," + "\n" +
				"0.0" + "\n" +
				"1.3508847951889038,1.7215927741672068,0.0,0.0,0.0,0.0" + "\n" +
				"0" + "\n" +
				"0,0.10000000149011612,536.0,1.0,4.599291801452637,0.0,0.5" + "\n" +
				"0,1.0,208.0,0.7889999747276306,0.0,0.4000000059604645,0.5" + "\n" +
				"0,1.0,257.0,0.8339999914169312,0.0,0.12800000607967377,0.5" + "\n" +
				"0" + "\n" +
				"0,0.10000000149011612,220.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,0.804,0.0,0.374,0.5" + "\n" +
				"0,0.10000000149011612,495.0,1.0,0.0,0.384,0.5" + "\n" +
				"1" + "\n" +
				"1,0.10000000149011612,220.0,1.0,0.0,0.0,0.5" + "\n" +
				"1,1.0,100.0,0.0,0.0,0.0,0.5" + "\n" +
				"1,0.009999999776482582,303.0,1.0,2.368760824203491,0.13600000739097595,0.5170000195503235" + "\n" +
				"0" + "\n" +
				"0,1.0,84.0,1.0,2.155132532119751,0.0,0.28700000047683716" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,189.0,1.0,2.9845130443573,0.0,0.5" + "\n" +
				"0" + "\n" +
				"0,0.10000000149011612,536.0,1.0,4.599291801452637,0.0,0.5" + "\n" +
				"0,1.0,208.0,0.0,0.0,0.14000000059604645,0.5" + "\n" +
				"0,0.20000000298023224,842.0,1.0,1.6147786378860474,0.328000009059906,0.5" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n",
		"Soft",
		"sft_palette" + "\n" +
				"0.834,0.925,0.728,0.555,0.0,0.0," + "\n" +
				"1.2817698026646356" + "\n" +
				"0.0,0.0,0.0,0.0,0.0,0.0" + "\n" +
				"7" + "\n" +
				"4,1.0,148.0,1.0,2.5132741228718345,0.0,0.9" + "\n" +
				"4,1.0,100.0,0.626,0.0,0.581,0.9" + "\n" +
				"3,1.0,717.0,1.0,3.0850439858251772,0.321,0.823" + "\n" +
				"0" + "\n" +
				"0,0.10000000149011612,438.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,1.6838936623241292,0.396,0.5" + "\n" +
				"0,0.009999999776482582,370.0,1.0,2.676636940858504,0.472,0.5" + "\n" +
				"0" + "\n" +
				"0,0.009999999776482582,431.0,1.0,1.7278759594743862,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,2.205398042820035,0.0,0.5" + "\n" +
				"0,0.009999999776482582,812.0,1.0,4.241150082346221,0.491,0.5" + "\n" +
				"7" + "\n" +
				"0,1.0,50.0,0.253,2.463008640414398,0.623,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"1,0.10000000149011612,853.0,1.0,2.060884780754904,0.0,0.366" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n",
		"Rosy",
		"sft_palette" + "\n" +
				"1.0,0.992,0.581,0.543,0.0,0.0," + "\n" +
				"2.58238916125081" + "\n" +
				"1.9226547039969535,0.0,0.9487609813841175,3.0599112445964582,0.0,0.0" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,3.129026282975434,0.0,0.245" + "\n" +
				"0,1.0,100.0,1.0,1.2063715789784806,0.396,0.668" + "\n" +
				"0,1.0,144.0,0.845,2.607521902479528,0.087,0.5" + "\n" +
				"0" + "\n" +
				"0,0.10000000149011612,861.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.543,0.5" + "\n" +
				"0,0.10000000149011612,306.0,0.906,0.0,0.23,0.691" + "\n" +
				"2" + "\n" +
				"2,1.0,329.0,1.0,3.03477850336774,0.0,0.5" + "\n" +
				"2,1.0,100.0,0.57,0.0,0.408,0.721" + "\n" +
				"2,1.0,133.0,0.528,2.563539605329271,0.098,0.974" + "\n" +
				"4" + "\n" +
				"4,1.0,208.0,1.0,0.0,0.0,0.5" + "\n" +
				"4,1.0,100.0,0.0,0.0,0.0,0.5" + "\n" +
				"4,0.009999999776482582,303.0,1.0,1.6587609210954108,0.166,0.479" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n",
		"Subdued",
		"sft_palette" + "\n" +
				"1.0,0.626,1.0,0.0,0.0,0.0," + "\n" +
				"1.017876019763093" + "\n" +
				"0.0,0.0,0.0,0.0,0.0,0.0" + "\n" +
				"0" + "\n" +
				"0,0.10000000149011612,495.0,1.0,3.4117696217985154,0.0,0.5" + "\n" +
				"0,1.0,100.0,0.804,3.179291765432871,0.091,0.5" + "\n" +
				"0,0.10000000149011612,352.0,0.811,2.016902483604647,0.279,0.815" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,2.8902652413026098,0.0,0.5" + "\n" +
				"0,1.0,100.0,0.608,0.0,0.174,0.472" + "\n" +
				"0,1.0,103.0,1.0,2.5132741228718345,0.185,0.626" + "\n" +
				"1" + "\n" +
				"1,0.10000000149011612,495.0,1.0,3.4117696217985154,0.0,0.5" + "\n" +
				"1,1.0,100.0,0.804,3.179291765432871,0.091,0.5" + "\n" +
				"1,0.009999999776482582,819.0,1.0,4.7877872040708445,0.411,0.796" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n",
		"Quiet",
		"sft_palette" + "\n" +
				"0.642,0.792,1.0,0.513,0.0,0.0," + "\n" +
				"0.0" + "\n" +
				"0.0,0.0,4.341681047261094,0.0,0.0,0.0" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,137.0,1.0,0.26389378290154264,0.14,0.5" + "\n" +
				"0" + "\n" +
				"0,0.10000000149011612,861.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.543,0.5" + "\n" +
				"0,0.10000000149011612,306.0,0.992,0.0,0.192,0.5" + "\n" +
				"2" + "\n" +
				"2,1.0,208.0,1.0,0.0,0.0,0.5" + "\n" +
				"2,1.0,100.0,0.0,0.0,0.0,0.5" + "\n" +
				"2,1.0,133.0,1.0,3.03477850336774,0.0,0.974" + "\n" +
				"4" + "\n" +
				"4,1.0,208.0,1.0,0.0,0.0,0.5" + "\n" +
				"4,1.0,100.0,0.0,0.0,0.0,0.5" + "\n" +
				"4,0.009999999776482582,348.0,1.0,2.777167905773377,0.275,0.547" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n",
		"Flat",
		"sft_palette" + "\n" +
				"1.0,0.649,1.0,0.17,1.0,0.0," + "\n" +
				"0.0" + "\n" +
				"4.172035043967246,0.0,0.0,0.0,0.0,0.0" + "\n" +
				"0" + "\n" +
				"0,0.10000000149011612,261.0,1.0,2.7960174616949156,0.0,0.577" + "\n" +
				"0,1.0,100.0,1.0,3.009645762139022,0.442,0.5" + "\n" +
				"0,1.0,46.0,0.891,1.7530087007031045,0.245,0.5" + "\n" +
				"0" + "\n" +
				"0,0.10000000149011612,205.0,1.0,3.4871678454846706,0.0,0.5" + "\n" +
				"0,1.0,73.0,1.0,0.0,0.698,0.5" + "\n" +
				"0,0.10000000149011612,913.0,1.0,1.4451326206513049,0.245,0.5" + "\n" +
				"4" + "\n" +
				"4,0.10000000149011612,593.0,0.449,0.3581415625092364,0.0,0.577" + "\n" +
				"4,1.0,100.0,0.0,3.009645762139022,0.226,0.5" + "\n" +
				"4,1.0,46.0,0.891,1.7090264035528475,0.389,0.321" + "\n" +
				"0" + "\n" +
				"0,1.0,303.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.547,0.5" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,0.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,257.0,0.83,0.16336281798666927,0.287,0.5" + "\n" +
				"0" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,100.0,1.0,0.0,0.0,0.5" + "\n",
		"Pure",
		"sft_palette" + "\n" +
				"1.0,0.2,0.0,0.0,0.0,0.0," + "\n" +
				"0.0" + "\n" +
				"0.0,0.0,0.0,0.0,0.0,0.0" + "\n" +
				"0" + "\n" +
				"0,0.009999999776482582,465.0,1.0,2.657787384936965,0.0,0.5" + "\n" +
				"0,1.0,25.0,0.849,0.0,0.0,0.5" + "\n" +
				"0,0.009999999776482582,597.0,0.815,0.0,0.268,0.5" + "\n" +
				"5" + "\n" +
				"0,1.0,25.0,0.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,25.0,0.0,0.0,0.0,0.891" + "\n" +
				"4,0.009999999776482582,465.0,1.0,3.4117696217985154,0.57,0.615" + "\n" +
				"0" + "\n" +
				"0,1.0,25.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,25.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,25.0,1.0,0.0,0.0,0.5" + "\n" +
				"0" + "\n" +
				"0,1.0,25.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,25.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,25.0,1.0,0.0,0.0,0.5" + "\n" +
				"0" + "\n" +
				"0,1.0,25.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,25.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,25.0,1.0,0.0,0.0,0.5" + "\n" +
				"0" + "\n" +
				"0,1.0,25.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,25.0,1.0,0.0,0.0,0.5" + "\n" +
				"0,1.0,25.0,1.0,0.0,0.0,0.5" + "\n",
		"Pale",
		"sft_palette" + "\n" +
				"1.0,0.238,0.589,0.275,0.158,0.445," + "\n" +
				"4.838052686528282" + "\n" +
				"1.3634512116579702,0.0,0.3581415625092364,2.6326546437082468,3.4620351791381836,0.0" + "\n" +
				"0" + "\n" +
				"0,0.10000000149011612,928.0,1.0,4.812919945299563,0.0,0.652" + "\n" +
				"0,1.0,265.0,0.879,1.156106096521044,0.347,0.513" + "\n" +
				"0,1.0,152.0,1.0,1.8661060362323372,0.328,0.54" + "\n" +
				"1" + "\n" +
				"1,0.10000000149011612,238.0,0.791,0.9173450548482196,0.248,0.634" + "\n" +
				"1,1.0,272.0,0.796,1.3446016557364315,0.059,0.66" + "\n" +
				"1,0.009999999776482582,246.0,0.962,0.37070793312359557,0.008,0.625" + "\n" +
				"2" + "\n" +
				"2,1.0,167.0,0.842,1.4325662500369456,0.425,0.592" + "\n" +
				"2,1.0,125.0,0.226,1.9917697423759289,0.101,0.648" + "\n" +
				"2,1.0,514.0,1.0,2.9656634649887645,0.0,0.667" + "\n" +
				"3" + "\n" +
				"3,1.0,167.0,0.833,0.49637163926718736,0.433,0.275" + "\n" +
				"3,1.0,344.0,0.845,1.897521962768235,0.66,0.683" + "\n" +
				"3,1.0,193.0,0.513,1.1623892818282233,0.657,0.629" + "\n" +
				"4" + "\n" +
				"4,1.0,208.0,0.7059999704360962,0.948760986328125,0.4339999854564667,0.6259999871253967" + "\n" +
				"4,0.10000000149011612,291.0,0.7850000262260437,2.965663433074951,0.23399999737739563,0.7319999933242798" + "\n" +
				"4,1.0,352.0,0.7360000014305115,2.180265188217163,0.125,0.4339999854564667" + "\n" +
				"5" + "\n" +
				"2,1.0,453.0,1.0,2.1362829208374023,0.32100000977516174,0.6230000257492065" + "\n" +
				"1,1.0,159.0,0.7549999952316284,1.0178760290145874,0.4490000009536743,0.7770000100135803" + "\n" +
				"4,1.0,265.0,0.800000011920929,0.8545132279396057,0.328000009059906,0.6940000057220459" + "\n",
				""
		};
	PaletteLibraryLoader mLoader;

	public void actionPerformed(ActionEvent event)
	{
		int i;
		for (i=0; i<sLibrary.length; i+=2)
		{
			if (event.getActionCommand().matches(sLibrary[i]))
			{
				String str = sLibrary[i+1];
				ByteArrayInputStream bis;
				try {
					bis = new ByteArrayInputStream(str.getBytes("UTF-8"));
				} catch (UnsupportedEncodingException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
					return;
				}
				BufferedReader br = new BufferedReader( new InputStreamReader(bis));		

				mLoader.LoadTheFile(br);
			}
		}
	}

	public PaletteLibrary(JMenuBar menuBar, PaletteLibraryLoader loader)
	{
		int i;
		mLoader=loader;
		JMenu menu = new JMenu("Palette Library");
		for (i=0; i<sLibrary.length-1; i+=2)
		{
			JMenuItem menuItem = new JMenuItem(sLibrary[i]);
			menuItem.addActionListener(this);
			menu.add(menuItem);

		}
		menuBar.add(menu);		
	}

}
